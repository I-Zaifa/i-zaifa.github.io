<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Huzaifa - Economics, Data Analytics, and Essays">
    <title>La Barber</title>
    <link rel="icon" href="https://ui-avatars.com/api/?name=H&background=D96C3F&color=fff&rounded=true&size=64" type="image/png">
    <style>
        :root {
            --orange: #D96C3F;
            --orange-light: #E8845A;
            --orange-dark: #B85A32;
            --bg-dark: #1A1A1A;
            --bg-card: #242424;
            --bg-hover: #2E2E2E;
            --border: #333;
            --text: #D4D4D4;
            --text-dim: #888;
            --white: #F0F0F0;
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.7;
            font-size: 16px;
            min-height: 100vh;
        }

        /* Subtle texture overlay */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
            opacity: 0.025;
            pointer-events: none;
            z-index: -1;
        }

        /* Layout */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Header */
        header {
            padding: 2rem 0 1rem;
            border-bottom: 1px solid var(--border);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--white);
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .logo span {
            color: var(--orange);
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            gap: 0.25rem;
            background: var(--bg-card);
            padding: 0.25rem;
            border-radius: 8px;
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--text-dim);
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .tab-btn:hover {
            color: var(--text);
        }

        .tab-btn.active {
            background: var(--orange);
            color: var(--white);
        }

        /* Main Content */
        main {
            padding: 2.5rem 0 4rem;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Typography */
        h1 {
            font-size: 2.2rem;
            font-weight: 600;
            color: var(--white);
            margin-bottom: 0.5rem;
            line-height: 1.2;
        }

        h1 span {
            color: var(--orange);
        }

        h2 {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--orange);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--white);
            margin-bottom: 0.25rem;
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--orange);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--orange-light);
        }

        .tagline {
            font-size: 1.1rem;
            color: var(--text-dim);
            margin-bottom: 1.5rem;
        }

        .meta {
            font-size: 0.85rem;
            color: var(--orange);
            margin-bottom: 0.5rem;
        }

        /* Sections */
        .section {
            margin-bottom: 2.5rem;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 1rem;
            transition: border-color 0.2s, transform 0.2s;
        }

        .card:hover {
            border-color: var(--orange);
            transform: translateY(-2px);
        }

        .card p {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        .card-link {
            text-decoration: none;
            display: block;
        }

        /* Skills Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        @media (max-width: 600px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .grid-item {
            background: var(--bg-card);
            padding: 1rem;
            border-radius: 6px;
            border-left: 3px solid var(--orange);
        }

        .grid-item h4 {
            font-size: 0.75rem;
            color: var(--orange);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
        }

        .grid-item p {
            font-size: 0.85rem;
            color: var(--text-dim);
            margin-bottom: 0;
        }

        /* Contact Links */
        .contact-links {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .contact-links a {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .contact-links a:hover {
            background: var(--orange-dark);
            border-color: var(--orange-dark);
            color: var(--white);
        }

        /* Essay List */
        .essay-list {
            list-style: none;
        }

        .essay-item {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: padding-left 0.2s;
        }

        .essay-item:last-child {
            border-bottom: none;
        }

        .essay-item:hover {
            padding-left: 0.5rem;
        }

        .essay-item h3 {
            color: var(--orange);
            margin-bottom: 0.25rem;
        }

        .essay-item:hover h3 {
            color: var(--orange-light);
        }

        .essay-item .date {
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        .essay-item .excerpt {
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-top: 0.25rem;
            margin-bottom: 0;
        }

        /* Essay Reader */
        .essay-reader {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .essay-reader.active {
            display: block;
        }

        .essay-reader-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .essay-reader-header h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .essay-reader-header .date {
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: none;
            border: none;
            color: var(--orange);
            font-size: 0.9rem;
            cursor: pointer;
            padding: 0;
            margin-bottom: 1.5rem;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: var(--orange-light);
        }

        .essay-content {
            font-size: 1rem;
            line-height: 1.85;
        }

        .essay-content p {
            margin-bottom: 1.25rem;
        }

        .essay-content blockquote {
            border-left: 3px solid var(--orange);
            padding-left: 1.25rem;
            margin: 1.5rem 0;
            color: var(--text-dim);
            font-style: italic;
        }

        .essay-content em {
            color: var(--text);
        }

        /* Reading Progress */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--orange);
            width: 0%;
            z-index: 1000;
            transition: width 0.1s;
        }

        /* Footer */
        footer {
            border-top: 1px solid var(--border);
            padding: 1.5rem 0;
            text-align: center;
            color: var(--text-dim);
            font-size: 0.85rem;
        }

        /* Featured Essay (Home) */
        .featured-essay {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            cursor: pointer;
            transition: border-color 0.2s, transform 0.2s;
        }

        .featured-essay:hover {
            border-color: var(--orange);
            transform: translateY(-2px);
        }

        .featured-label {
            font-size: 0.7rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .featured-essay h3 {
            color: var(--orange);
        }

        .featured-essay p {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }

            h1 {
                font-size: 1.8rem;
            }

            .tabs {
                width: 100%;
                justify-content: center;
            }

            .tab-btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.85rem;
            }
        }

        /* Hide scrollbar for essay reader but keep scroll */
        .essay-content::-webkit-scrollbar {
            width: 6px;
        }

        .essay-content::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        .essay-content::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        .essay-content::-webkit-scrollbar-thumb:hover {
            background: var(--orange);
        }
    </style>
</head>
<body>
    <div class="reading-progress" id="readingProgress"></div>

    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" onclick="goHome()">Huzaifa<span>.</span></a>
                <div class="tabs">
                    <button class="tab-btn active" data-tab="home">Home</button>
                    <button class="tab-btn" data-tab="portfolio">Portfolio</button>
                    <button class="tab-btn" data-tab="essays">Essays</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- HOME TAB -->
            <div class="tab-content active" id="home">
                <div class="section">
                    <h1>Huzaifa<span>.</span></h1>
                    <p class="tagline">Economics & Finance · Data Analytics · Occasional Rambler</p>
                    <p>Numbers guy with an allergy to theories that can't survive contact with reality.</p>
                </div>

                <div class="section">
                    <h2>Current Work</h2>
                    <div class="card">
                        <h3>The Liquidity Stratagem</h3>
                        <p class="meta">Undergraduate Thesis · In Progress</p>
                        <p>Cash/T-bills vs. equity performance during Pakistan's economic stress periods. Building a framework using VAR econometric methodology.</p>
                    </div>
                </div>

                <div class="section">
                    <h2>Latest Essay</h2>
                    <div class="featured-essay" onclick="openEssay('how-much-for-a-ticket')">
                        <div class="featured-label">Featured</div>
                        <h3>How Much for a Ticket?</h3>
                        <p>On Shakespeare and a nation's rise in trade.</p>
                    </div>
                </div>

                <div class="section">
                    <h2>Get in Touch</h2>
                    <div class="contact-links">
                        <a href="mailto:huzaifazerothree@gmail.com">Email</a>
                        <a href="https://linkedin.com/in/huzaifatariq33" target="_blank">LinkedIn</a>
                        <a href="https://github.com/i-zaifa" target="_blank">GitHub</a>
                    </div>
                </div>
            </div>

            <!-- PORTFOLIO TAB -->
            <div class="tab-content" id="portfolio">
                <div class="section">
                    <h1>Portfolio</h1>
                    <p class="tagline">Data analytics, financial modeling, and academic research.</p>
                </div>

                <div class="section">
                    <h2>Education</h2>
                    <div class="card">
                        <h3>BS Economics & Finance</h3>
                        <p class="meta">NUML, Islamabad · 2026</p>
                        <p>Focus on econometric analysis, time-series modeling, and the intersection of finance and data science.</p>
                    </div>
                </div>

                <div class="section">
                    <h2>Technical Skills</h2>
                    <div class="grid">
                        <div class="grid-item">
                            <h4>Programming</h4>
                            <p>Python (pandas, NumPy, scikit-learn, PyTorch)</p>
                        </div>
                        <div class="grid-item">
                            <h4>Analysis</h4>
                            <p>Regression, Time Series, Statistical Testing</p>
                        </div>
                        <div class="grid-item">
                            <h4>Tools</h4>
                            <p>Stata, Tableau, SQL, Excel (advanced)</p>
                        </div>
                        <div class="grid-item">
                            <h4>Methods</h4>
                            <p>VAR/VECM, ARIMA, Econometrics</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Certifications</h2>
                    <div class="card">
                        <h3>Google Advanced Data Analytics</h3>
                        <p>Data cleaning, statistical modeling, regression analysis, Tableau visualization</p>
                    </div>
                    <div class="card">
                        <h3>Google Project Management</h3>
                        <p>Agile, Scrum, project planning, stakeholder coordination</p>
                    </div>
                </div>

                <div class="section">
                    <h2>Data Projects</h2>
                    <a href="https://github.com/I-Zaifa/SP500AnalyzedtoX" target="_blank" class="card-link">
                        <div class="card">
                            <h3>SP500AnalyzedtoX</h3>
                            <p class="meta">Python · Financial Analysis</p>
                            <p>S&P 500 analysis with financial ratio calculators, dividend screens, and investment scoring algorithms.</p>
                        </div>
                    </a>
                    <a href="https://github.com/I-Zaifa/Spotify2023DataVisualization" target="_blank" class="card-link">
                        <div class="card">
                            <h3>Spotify 2023 Data Visualization</h3>
                            <p class="meta">Python · Pyplot · Seaborn</p>
                            <p>Visualization project analyzing streaming patterns from Spotify's most streamed songs.</p>
                        </div>
                    </a>
                    <a href="https://github.com/I-Zaifa/Regression-Analysis-Comparison" target="_blank" class="card-link">
                        <div class="card">
                            <h3>Regression Analysis Comparison</h3>
                            <p class="meta">Python · Machine Learning</p>
                            <p>Stock price analysis using macroeconomic indicators. Compares Linear, Lasso, XGBoost, ARIMA, and Random Forest.</p>
                        </div>
                    </a>
                    <a href="https://github.com/I-Zaifa/BrainTumorMRIClassification" target="_blank" class="card-link">
                        <div class="card">
                            <h3>Brain Tumor MRI Classification</h3>
                            <p class="meta">Python · CNN · Deep Learning</p>
                            <p>Self-trained CNN for classifying brain tumor types from MRI scans.</p>
                        </div>
                    </a>
                </div>

                <div class="section">
                    <h2>Academic Research</h2>
                    <div class="card">
                        <h3>The Liquidity Stratagem</h3>
                        <p class="meta">Undergraduate Thesis · In Progress · 2025</p>
                        <p>Examining tactical asset allocation during Pakistan's economic crises. Analyzes whether Treasury bills outperform equities during stress periods (2004–2024) using VAR econometric methodology.</p>
                    </div>
                </div>
            </div>

            <!-- ESSAYS TAB -->
            <div class="tab-content" id="essays">
                <!-- Essay List View -->
                <div id="essayList">
                    <div class="section">
                        <h1>Essays</h1>
                        <p class="tagline">Because my university will not publish my discourse.</p>
                    </div>

                    <div class="section">
                        <ul class="essay-list" id="essayListContainer">
                            <!-- Essays loaded dynamically from JSON -->
                        </ul>
                    </div>
                </div>

                <!-- Essay Reader View -->
                <div class="essay-reader" id="essayReader">
                    <button class="back-btn" onclick="closeEssay()">← Back to Essays</button>
                    <div class="essay-reader-header">
                        <h1 id="essayTitle"></h1>
                        <div class="date" id="essayDate"></div>
                    </div>
                    <div class="essay-content" id="essayContent"></div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Huzaifa · Islamabad, Pakistan · <a href="mailto:huzaifazerothree@gmail.com">huzaifazerothree@gmail.com</a></p>
        </div>
    </footer>

    <script>
        // State
        let essays = [];
        let currentEssay = null;

        // Tab Switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;
                switchTab(tabId);
            });
        });

        function switchTab(tabId) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');

            // Update content
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            // Reset essay reader when switching to essays tab
            if (tabId === 'essays') {
                closeEssay();
            }

            // Hide reading progress when not reading
            document.getElementById('readingProgress').style.width = '0%';
        }

        function goHome() {
            switchTab('home');
            return false;
        }

        // Load Essays from JSON
        async function loadEssays() {
            try {
                const response = await fetch('essays/essays.json');
                essays = await response.json();
                renderEssayList();
            } catch (error) {
                console.error('Error loading essays:', error);
                // Fallback: show placeholder
                document.getElementById('essayListContainer').innerHTML = `
                    <li class="essay-item" onclick="openEssay('how-much-for-a-ticket')">
                        <h3>How Much for a Ticket?</h3>
                        <span class="date">2025</span>
                        <p class="excerpt">On Shakespeare and a nation's rise in trade.</p>
                    </li>
                `;
            }
        }

        function renderEssayList() {
            const container = document.getElementById('essayListContainer');
            container.innerHTML = essays.map(essay => `
                <li class="essay-item" onclick="openEssay('${essay.file}')">
                    <h3>${essay.title}</h3>
                    <span class="date">${essay.date}</span>
                    <p class="excerpt">${essay.excerpt}</p>
                </li>
            `).join('');
        }

        // Essay Reader
        async function openEssay(filename) {
            // Switch to essays tab if not already there
            switchTab('essays');

            try {
                const response = await fetch(`essays/${filename}.md`);
                const markdown = await response.text();
                
                // Parse frontmatter
                const frontmatterMatch = markdown.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
                let title = filename;
                let date = '';
                let content = markdown;

                if (frontmatterMatch) {
                    const frontmatter = frontmatterMatch[1];
                    content = frontmatterMatch[2];
                    
                    const titleMatch = frontmatter.match(/title:\s*(.+)/);
                    const dateMatch = frontmatter.match(/date:\s*(.+)/);
                    
                    if (titleMatch) title = titleMatch[1];
                    if (dateMatch) date = dateMatch[1];
                }

                // Store current essay for progress tracking
                currentEssay = filename;

                // Render
                document.getElementById('essayTitle').textContent = title;
                document.getElementById('essayDate').textContent = date;
                document.getElementById('essayContent').innerHTML = parseMarkdown(content);

                // Show reader, hide list
                document.getElementById('essayList').style.display = 'none';
                document.getElementById('essayReader').classList.add('active');

                // Restore reading position
                const savedPosition = localStorage.getItem(`essay-position-${filename}`);
                if (savedPosition) {
                    setTimeout(() => {
                        window.scrollTo(0, parseInt(savedPosition));
                    }, 100);
                } else {
                    window.scrollTo(0, 0);
                }

            } catch (error) {
                console.error('Error loading essay:', error);
            }
        }

        function closeEssay() {
            document.getElementById('essayList').style.display = 'block';
            document.getElementById('essayReader').classList.remove('active');
            document.getElementById('readingProgress').style.width = '0%';
            currentEssay = null;
            window.scrollTo(0, 0);
        }

        // Simple Markdown Parser
        function parseMarkdown(md) {
            return md
                // Escape HTML
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                // Bold
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                // Italic
                .replace(/\*(.+?)\*/g, '<em>$1</em>')
                // Links
                .replace(/\[(.+?)\]\((.+?)\)/g, '<a href="$2" target="_blank">$1</a>')
                // Blockquotes
                .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
                // Paragraphs
                .split('\n\n')
                .map(p => p.trim())
                .filter(p => p)
                .map(p => {
                    if (p.startsWith('<blockquote>')) return p;
                    return `<p>${p.replace(/\n/g, '<br>')}</p>`;
                })
                .join('\n');
        }

        // Reading Progress
        window.addEventListener('scroll', () => {
            if (currentEssay) {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const progress = (scrollTop / docHeight) * 100;
                
                document.getElementById('readingProgress').style.width = `${progress}%`;
                
                // Save position
                localStorage.setItem(`essay-position-${currentEssay}`, scrollTop);
            }
        });

        // Initialize
        loadEssays();
    </script>
</body>
</html>
